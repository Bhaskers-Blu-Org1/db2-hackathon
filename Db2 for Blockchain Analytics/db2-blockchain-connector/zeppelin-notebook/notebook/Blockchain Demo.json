{
  "paragraphs": [
    {
      "text": "%sh\necho Identifying the private key used to connect to the Blockchain app and setting in the properties file\n\nsed -i \"s#USER_KEY=.*#USER_KEY=/certs/shop-org/users/Admin@shop-org/msp/keystore/$(ls '/certs/shop-org/users/Admin@shop-org/msp/keystore')#\" /opt/zeppelin/notebook/insurance.properties \necho \"--> $(grep USER_KEY /opt/zeppelin/notebook/insurance.properties)\"\n\necho\necho Loading the local Blockchain insurance app with some demo data\n\njava -cp /opt/zeppelin/notebook/fabric-datagen-dependencies-1.0-DATAGEN.jar com.ibm.federation.datagen.GenerateTransactions --config-file=/opt/zeppelin/notebook/insurance.properties --datagen-type=insurance --flows=25 --attempts=100 --channel-name=default --chaincode-name=bcins seed-concurrent --threads=2\n\necho",
      "user": "anonymous",
      "dateUpdated": "2019-06-04T13:42:21+0000",
      "config": {
        "editorSetting": {
          "language": "sh",
          "editOnDblClick": false,
          "completionSupport": false,
          "completionKey": "TAB"
        },
        "colWidth": 12,
        "editorMode": "ace/mode/sh",
        "fontSize": 9,
        "results": {},
        "enabled": true
      },
      "settings": { "params": {}, "forms": {} },
      "apps": [],
      "jobName": "paragraph_1559655718281_-755937942",
      "id": "20190604-131232_1972579531",
      "dateCreated": "2019-06-04T13:41:58+0000",
      "status": "READY",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500,
      "focus": true,
      "$$hashKey": "object:7252"
    },
    {
      "text": "%jdbc\n-- Shows the number of policies sold for each product\n\nWith T1 as \n(Select JSON_VAL(SYSTOOLS.JSON2BSON(TX.ARG_1), 'item.brand', 's:10' ) as PRODUCT, Count (JSON_VAL(SYSTOOLS.JSON2BSON(TX.ARG_1), 'item.brand', 's:10' )) as PRODUCT_SOLD\nfrom NN_TX as TX \nwhere ARG_0 = 'contract_create'\nGROUP BY JSON_VAL(SYSTOOLS.JSON2BSON(TX.ARG_1), 'item.brand', 's:10' )),\nT2 as \n(Select JSON_VAL(SYSTOOLS.JSON2BSON(TX.ARG_1), 'item.brand', 's:10' ) as PRODUCT, Count (JSON_VAL(SYSTOOLS.JSON2BSON(TX.ARG_1), 'item.brand', 's:10' )) as POLICY_SOLD\nfrom NN_TX as TX \nwhere ARG_0 = 'contract_create'\nAND YEAR(JSON_VAL(SYSTOOLS.JSON2BSON(TX.ARG_1), 'start_date','d')) > 2017\nGROUP BY JSON_VAL(SYSTOOLS.JSON2BSON(TX.ARG_1), 'item.brand', 's:10' ))\nSelect T1.PRODUCT, PRODUCT_SOLD, POLICY_SOLD from T1 inner join T2 on T1.PRODUCT=T2.PRODUCT",
      "user": "anonymous",
      "dateUpdated": "2019-06-04T13:41:58+0000",
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false,
          "completionSupport": true,
          "completionKey": "TAB"
        },
        "colWidth": 12,
        "editorMode": "ace/mode/sql",
        "fontSize": 9,
        "results": {},
        "enabled": true
      },
      "settings": { "params": {}, "forms": {} },
      "apps": [],
      "jobName": "paragraph_1559655718286_-1474187968",
      "id": "20190604-131321_1415505019",
      "dateCreated": "2019-06-04T13:41:58+0000",
      "status": "READY",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500,
      "$$hashKey": "object:7253"
    }
  ],
  "name": "IBM Db2 Blockchain Connector",
  "id": "2EE5WG1NN",
  "noteParams": {},
  "noteForms": {},
  "angularObjects": {
    "sh:shared_process": [],
    "jdbc:shared_process": [],
    "spark:shared_process": []
  },
  "config": {
    "isZeppelinNotebookCronEnable": false,
    "looknfeel": "default",
    "personalizedMode": "false"
  },
  "info": {}
}
